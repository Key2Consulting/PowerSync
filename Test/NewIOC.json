{
  "Connection": [
    {
      "Name": "System",
      "ConnectionString": "HOW DO WE MAKE THIS CONFIGURABLE?",
      "Credentials": "Foo"
    },
    {
      "Name": "FileSource",
      "Type": "UNC",
      "ConnectionString": "Foo;Server=$($Config['FileSourceServer'])",
      "Credentials": "Foo"
    },
    {
      "Name": "FileTarget",
      "Type": "AzureBlob",
      "ConnectionString": "Foo",
      "Credentials": "Foo"
    }
  ],
  "Process": [
    {
      "Name": "ConsolidateFiles",
      "ProcessType": "DataFeed",
      "Extractor": {
        "Type": "MSSQLDAT",
        "FilePathMin": "\\sourcefiles\\$($ConsolidateFiles.LastLoadedDate)\\*.dat",
        "FilePathMax": "\\sourcefiles\\$($ConsolidateFiles.NextLoadedDate)\\*.dat"
      },
      "Loader": {
        "Type": "TextFile",
        "Format": "CSV",
        "Header": true,
        "ObjectListQuery": "\\targetfiles\\$(Get-Date)\\*.csv",
        "MaxRowsPerFile": 1000000
      }
    },
    {
      "Name": "MigrateData",
      "ProcessType": "DataFeed",
      "Extractor": {
        "Name": "SourceTables",
        "Type": "MSSQL",
        "Objects": ["dbo.MyTable"],
        "ObjectListQuery": "SELECT [name] FROM sys.tables"
      },
      "Loader": {
        "Type": "MSSQL",
        "Objects": "$SourceTables"
      }
    },
    {
      "Name": "TakeTheseStepsInOrder",
      "Parallel": false,
      "FirstProcess": {},
      "SecondProcess": {}
    }
  ]
}
